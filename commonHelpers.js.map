{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export function imageMarkupTemplate(arr) {\n  return arr\n    .map(item => {\n      return `<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${item.largeImageURL}\">\n    <img\n      class=\"gallery-image\"\n      src=\"${item.webformatURL}\"\n      alt=\"${item.tags}\"\n    />\n  </a>\n     <ul class=\"image-desc\">\n        <li class=\"image-subtitle\"> \n            <h3 class=\"image-desc-title\">Likes</h3>\n            <p class=\"image-desc-text\">${item.likes}</p>\n        </li>\n         <li class=\"image-subtitle\"> \n            <h3 class=\"image-desc-title\">Views</h3>\n            <p class=\"image-desc-text\">${item.views}</p>\n        </li>\n        <li class=\"image-subtitle\"> \n            <h3 class=\"image-desc-title\">Comments</h3>\n            <p class=\"image-desc-text\">${item.comments}</p>\n        </li>\n        <li class=\"image-subtitle\"> \n            <h3 class=\"image-desc-title\">Downloads</h3>\n            <p class=\"image-desc-text\">${item.downloads}</p>\n        </li>\n     </ul>\n</li>`;\n    })\n    .join('');\n}\n","import Axios from 'axios';\n\nconst axios = Axios.create({\n  baseURL: 'https://pixabay.com',\n});\n\nexport async function onSearchImages(inputValue) {\n  const res = await axios.get('/api/', {\n    params: {\n      key: '45015838-73ef95672254612a035b0fb4a',\n      q: inputValue,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n    },\n  });\n  return res.data;\n}\n","import { imageMarkupTemplate } from './js/render-functions';\nimport { onSearchImages } from './js/pixabay-api';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst refs = {\n  formEl: document.querySelector('.js-form'),\n  inputSearchEl: document.querySelector('.input-search'),\n  btnSearchEl: document.querySelector('.btn-search'),\n  markupEl: document.querySelector('.markup'),\n  loader: document.querySelector('.loader'),\n};\n\nhideLoader();\n\nrefs.formEl.addEventListener('submit', onFormSubmit);\n\nasync function onFormSubmit(e) {\n  try {\n    e.preventDefault();\n    showLoader();\n    refs.markupEl.innerHTML = '';\n    const inputValue = refs.formEl.elements.image.value.trim();\n    if (!inputValue) return;\n    refs.formEl.reset();\n    const res = await onSearchImages(inputValue);\n    if (!res.hits.length) {\n      iziToast.show({\n        title: 'Oops',\n        titleColor: '#FAFAFB',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        messageColor: '#FAFAFB',\n        backgroundColor: '#EF4040',\n        position: 'topRight',\n        timeout: 3000,\n      });\n      return;\n    }\n    renderImages(res.hits);\n    gallery.refresh();\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      titleColor: '#FAFAFB',\n      message: 'Sorry, something wrong',\n      position: 'topRight',\n      messageColor: '#FAFAFB',\n      backgroundColor: '#EF4040',\n      position: 'topRight',\n      timeout: 3000,\n    });\n  } finally {\n    hideLoader();\n  }\n}\n\nfunction renderImages(arr) {\n  const markup = imageMarkupTemplate(arr);\n  refs.markupEl.innerHTML = markup;\n}\n\nconst gallery = new SimpleLightbox('.gallery-item a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nfunction showLoader() {\n  refs.loader.classList.remove('hidden');\n}\nfunction hideLoader() {\n  refs.loader.classList.add('hidden');\n}\n"],"names":["imageMarkupTemplate","arr","item","axios","Axios","onSearchImages","inputValue","refs","hideLoader","onFormSubmit","e","showLoader","res","iziToast","renderImages","gallery","markup","SimpleLightbox"],"mappings":"owBAAO,SAASA,EAAoBC,EAAK,CACvC,OAAOA,EACJ,IAAIC,GACI;AAAA,kCACqBA,EAAK,aAAa;AAAA;AAAA;AAAA,aAGvCA,EAAK,YAAY;AAAA,aACjBA,EAAK,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCAMmBA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,yCAIVA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,yCAIVA,EAAK,QAAQ;AAAA;AAAA;AAAA;AAAA,yCAIbA,EAAK,SAAS;AAAA;AAAA;AAAA,MAIlD,EACA,KAAK,EAAE,CACZ,CC9BA,MAAMC,EAAQC,EAAM,OAAO,CACzB,QAAS,qBACX,CAAC,EAEM,eAAeC,EAAeC,EAAY,CAU/C,OATY,MAAMH,EAAM,IAAI,QAAS,CACnC,OAAQ,CACN,IAAK,qCACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACL,CAAG,GACU,IACb,CCVA,MAAMC,EAAO,CACX,OAAQ,SAAS,cAAc,UAAU,EACzC,cAAe,SAAS,cAAc,eAAe,EACrD,YAAa,SAAS,cAAc,aAAa,EACjD,SAAU,SAAS,cAAc,SAAS,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEAC,IAEAD,EAAK,OAAO,iBAAiB,SAAUE,CAAY,EAEnD,eAAeA,EAAaC,EAAG,CAC7B,GAAI,CACFA,EAAE,eAAc,EAChBC,IACAJ,EAAK,SAAS,UAAY,GAC1B,MAAMD,EAAaC,EAAK,OAAO,SAAS,MAAM,MAAM,OACpD,GAAI,CAACD,EAAY,OACjBC,EAAK,OAAO,QACZ,MAAMK,EAAM,MAAMP,EAAeC,CAAU,EAC3C,GAAI,CAACM,EAAI,KAAK,OAAQ,CACpBC,EAAS,KAAK,CACZ,MAAO,OACP,WAAY,UACZ,QACE,2EACF,aAAc,UACd,gBAAiB,UACjB,SAAU,WACV,QAAS,GACjB,CAAO,EACD,MACD,CACDC,EAAaF,EAAI,IAAI,EACrBG,EAAQ,QAAO,CAChB,MAAe,CACdF,EAAS,MAAM,CACb,MAAO,QACP,WAAY,UACZ,QAAS,yBACT,SAAU,WACV,aAAc,UACd,gBAAiB,UACjB,SAAU,WACV,QAAS,GACf,CAAK,CACL,QAAY,CACRL,GACD,CACH,CAEA,SAASM,EAAab,EAAK,CACzB,MAAMe,EAAShB,EAAoBC,CAAG,EACtCM,EAAK,SAAS,UAAYS,CAC5B,CAEA,MAAMD,EAAU,IAAIE,EAAe,kBAAmB,CACpD,aAAc,MACd,aAAc,GAChB,CAAC,EAED,SAASN,GAAa,CACpBJ,EAAK,OAAO,UAAU,OAAO,QAAQ,CACvC,CACA,SAASC,GAAa,CACpBD,EAAK,OAAO,UAAU,IAAI,QAAQ,CACpC"}